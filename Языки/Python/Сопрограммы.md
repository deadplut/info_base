
Это [[Генераторные функции|генераторная функция]], в которой [[Генераторы|генератор]] выводит через yield, а также принимает значения через метод `send()`

(корутины?)


```
def averager():  
    total = 0  
    count = 0  
    avg = 0  
    while True:  
        n = yield avg  
        if not n:  
            break  
        total += n  
        count += 1  
        avg = total / count  
    return avg
```

1) `send` можно вызвать после ф-ция next(), иначе будет ошибка
2) [[yield]] и выводит, и получает значения
3) 

```
avg = averager()  
next(avg)                  # активация сопрограммы  
print(avg.send(10))        # 10.0  
print(avg.send(20))        # 15.0  
print(avg.send(30))        # 20.0  
  
try:  
    avg.send(None)         # завершение и возврат результата  
except StopIteration as e:  
    print(e.value)
```